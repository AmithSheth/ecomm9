function ReturnItemOptionsSelection(){}$(document).ready(function(){function t(){$(this).closest("tr").find("input.add-item").attr("checked","checked"),n()}function n(){var t=0,n=e.find("input.add-item:checked");$.each(n,function(n,e){t+=parseFloat($(e).parents("tr").find(".refund-amount-input").val())});var i=isNaN(t)?"":t.toFixed(2);e.find("span#total_pre_tax_refund").html(i)}var e=$("[data-hook='admin_customer_return_form_fields'],                      [data-hook='admin_return_authorization_form_fields']");e.length>0&&(n(),e.find("input#select-all").on("change",function(t){$(t.currentTarget).parents("table:first").find("input.add-item").prop("checked",this.checked),n()}),e.find("input.add-item").on("change",n),e.find(".refund-amount-input").on("keyup",n),e.find("input, select").not(".add-item").on("change",t))}),ReturnItemOptionsSelection.prototype.bindEvents=function(){this.hideExchangeOptionsDropdownForRefundItems(),this.bindClickEventOnReturnOptionRadioButtons(),this.bindCheckedEventOnLineItemsSelection()},ReturnItemOptionsSelection.prototype.bindCheckedEventOnLineItemsSelection=function(){var t=this;$("input[type=checkbox]").on("change",function(){t.updateSuggestedAmount()})},ReturnItemOptionsSelection.prototype.hideExchangeOptionsDropdownForRefundItems=function(){$("[value=refund]:checked").each(function(){$(this).closest("tr").find(".return-item-exchange-selection").val("").hide()})},ReturnItemOptionsSelection.prototype.bindClickEventOnReturnOptionRadioButtons=function(){var t=this;$(".return-options").on("change",function(n){n.stopPropagation();var e=$(this).closest("tr").find(".return-item-exchange-selection");if(t.updateSuggestedAmount(),$(n.target).is("[value=refund]"))e.val("").hide();else if($(n.target).is("[value=exchange_for]")){var i=e.find("option:first").val();e.val(i).show()}})},ReturnItemOptionsSelection.prototype.updateSuggestedAmount=function(){var t=0,n=$("[data-hook='admin_return_authorization_form_fields']"),e=n.find("input.add-item:checked");$.each(e,function(n,e){var i=$(e).parents("tr");if(i.find(".return-options:checked").is($("[value=exchange_for]")))return!0;t+=parseFloat(i.find(".refund-amount-input").val())});var i=isNaN(t)?"":t.toFixed(2);n.find("span#total_pre_tax_refund").html(i)},$(document).ready(function(){(new ReturnItemOptionsSelection).bindEvents()});